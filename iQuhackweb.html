<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Team Q-gar | iQuHack 2026</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- MathJax for LaTeX support -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #030712; /* gray-950 */
      color: #f8fafc;
      background-image:
        radial-gradient(at 0% 0%, rgba(79, 70, 229, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(124, 58, 237, 0.15) 0px, transparent 50%);
      background-attachment: fixed;
      height: 100vh;
      overflow-x: hidden;
    }
    .glass-panel {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 0.75rem;
      padding: 1.25rem;
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    .glass-panel:hover {
      border-color: rgba(99, 102, 241, 0.3);
      background: rgba(255, 255, 255, 0.04);
    }
    .math-block {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 0.75rem;
      border-radius: 0.5rem;
      margin: 0.75rem 0;
      font-size: 0.9rem;
      color: #e2e8f0;
      text-align: center;
    }
    pre {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
    }
    .col-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: white;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .col-title::before {
      content: '';
      display: block;
      width: 4px;
      height: 1.25rem;
      background: #6366f1; /* indigo-500 */
      border-radius: 2px;
    }
    .scrollable-y {
      overflow-y: auto;
      scrollbar-width: thin;
    }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    .mjx-chtml { color: white !important; font-size: 90% !important; }
  </style>
</head>

<body class="antialiased selection:bg-indigo-500/30 flex flex-col h-screen p-4 md:p-6 overflow-hidden">

  <!-- Top-right tabs -->
  <div class="fixed top-4 right-4 z-50">
    <div class="inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 backdrop-blur px-1 py-1 shadow-sm">
      <button
        id="tabBtnSite"
        type="button"
        class="rounded-full px-3 py-1.5 text-xs font-mono font-bold tracking-wide border border-white/10 bg-white/10 text-white hover:bg-white/15"
        aria-pressed="true"
      >
        Website
      </button>
      <button
        id="tabBtnGame"
        type="button"
        class="rounded-full px-3 py-1.5 text-xs font-mono font-bold tracking-wide border border-transparent text-slate-300 hover:bg-white/10 hover:text-white"
        aria-pressed="false"
      >
        Play Game
      </button>
    </div>
  </div>

  <!-- Website tab -->
  <div id="tabPanelSite" class="flex flex-col flex-1 min-h-0">
  <!-- Compact Header -->
  <header class="mb-6 flex-shrink-0">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-end gap-4 border-b border-white/10 pb-4">
      <div>
        <div class="inline-flex items-center gap-2 mb-2">
          <span class="text-xs font-bold text-indigo-400 uppercase tracking-widest">iQuHack 2026</span>
          <span class="w-1 h-1 rounded-full bg-slate-600"></span>
          <span class="text-xs text-slate-500 font-mono">TEAM Q-GAR</span>
        </div>
        <h1 class="text-2xl md:text-3xl font-bold tracking-tight text-white leading-tight">
          Hybrid Quantum-Classical Optimization
        </h1>
        <p class="text-sm text-slate-400 mt-2 max-w-3xl">
          Presentation build: automated agent for competitive quantum networking, unifying noise-adaptive entanglement distillation with graph-theoretic pathfinding.
        </p>
      </div>

      <div class="flex gap-2 text-[10px] font-mono text-slate-500 flex-wrap justify-start md:justify-end">
        <div class="px-2 py-1 glass-panel !h-auto !p-1 !border-slate-800">C. Quinn</div>
        <div class="px-2 py-1 glass-panel !h-auto !p-1 !border-slate-800">J. Goodrich</div>
        <div class="px-2 py-1 glass-panel !h-auto !p-1 !border-slate-800">K. Sandberg</div>
        <div class="px-2 py-1 glass-panel !h-auto !p-1 !border-slate-800">N. Chaudhari</div>
        <div class="px-2 py-1 glass-panel !h-auto !p-1 !border-slate-800">W. Ott</div>
      </div>
    </div>
  </header>

  <!-- Main 3-Column Grid -->
  <main class="flex-grow grid grid-cols-1 lg:grid-cols-3 gap-4 min-h-0">

    <!-- COLUMN 1: CHALLENGE & DISTILLATION -->
    <div class="glass-panel scrollable-y">
      <h2 class="col-title">1. The Challenge</h2>

      <div class="space-y-4 text-sm text-slate-400">
        <p>
          <strong>Objective:</strong> Maximize total utility qubits by expanding a connected quantum subgraph, starting from a single node.
        </p>

        <div class="grid grid-cols-2 gap-3 my-2">
          <div class="bg-white/5 p-3 rounded border border-white/5">
            <div class="text-[10px] uppercase tracking-wider text-slate-500 mb-1">Physical Constraint</div>
            <div class="text-indigo-300 font-mono text-xs">Fidelity ≥ Threshold</div>
          </div>
          <div class="bg-white/5 p-3 rounded border border-white/5">
            <div class="text-[10px] uppercase tracking-wider text-slate-500 mb-1">Economic Constraint</div>
            <div class="text-indigo-300 font-mono text-xs">Finite Bell Pair Budget</div>
          </div>
        </div>

        <p class="text-xs">
          Each edge represents a noisy Bell-pair channel. To claim it, players must distill sufficient
          fidelity using LOCC operations, consuming limited entanglement resources.
        </p>

        <div>
          <strong class="text-white block mb-1">Theory: LOCC Distillation</strong>
          <p class="text-xs mb-2">
            Distillation consumes multiple noisy pairs to produce <em>one</em> higher-fidelity Bell pair.
          </p>
          <div class="math-block !py-2 !my-1">
            $$ \rho^{\otimes n} \xrightarrow{\text{LOCC}} |\Phi^+\rangle $$
          </div>
        </div>

        <div class="bg-indigo-900/10 border border-indigo-500/20 p-3 rounded text-xs leading-relaxed">
          <strong>Mechanism:</strong> We use recurrence protocols: pairs are consumed via bilateral CNOTs and parity measurements.
          <ul class="list-disc list-inside mt-1 text-slate-400">
            <li><span class="text-white">Match:</span> keep (distilled)</li>
            <li><span class="text-white">Mismatch:</span> discard (error detected)</li>
          </ul>
        </div>

        <div class="bg-white/5 p-3 rounded border border-white/5 text-xs">
          <strong class="text-white">Approach:</strong> split the problem in two: (1) characterize edge noise to choose the best distillation circuit,
          (2) treat the game board as a weighted graph to decide where to expand for maximum ROI.
        </div>
      </div>
    </div>

    <!-- COLUMN 2: PHYSICS & NOISE -->
    <div class="glass-panel scrollable-y">
      <h2 class="col-title">2. Physics Stream</h2>

      <div class="space-y-5 text-sm">

        <!-- Methodology -->
        <div>
          <strong class="text-white">Methodology: Fidelity Probing</strong>
          <p class="text-xs text-slate-400 mb-2">
            We reconstructed edge noise by probing fidelity under local basis rotations, allowing identification of the underlying output state.
          </p>
          <div class="math-block !py-2 !my-0">
            $$ F(U) = \langle\Phi^+|U \rho_{\text{out}} U^\dagger|\Phi^+\rangle $$
          </div>
        </div>

        <p class="text-xs text-slate-500 -mt-2">
          Difficulty levels correspond to <em>distinct quantum noise channels</em>, not scalar noise.
        </p>

        <!-- Noise Models List -->
        <div class="space-y-2">
          <strong class="text-white block text-xs uppercase tracking-wider mb-2">Noise Characterization (D1–D5)</strong>

          <!-- D1 -->
          <div class="p-2 rounded bg-white/5 border border-white/5 flex gap-3">
            <div class="w-1 bg-blue-500 rounded-full"></div>
            <div class="flex-1">
              <div class="flex justify-between">
                <span class="text-blue-200 font-bold text-xs">D1: Bit Flip</span>
                <span class="text-[10px] text-slate-500 font-mono">dominant: X</span>
              </div>
              <div class="text-[10px] text-slate-400 mt-1 font-mono">
                $\rho \approx 0.85|\Phi^+\rangle + 0.15|\Psi^+\rangle$
              </div>
            </div>
          </div>

          <!-- D2 -->
          <div class="p-2 rounded bg-white/5 border border-white/5 flex gap-3">
            <div class="w-1 bg-purple-500 rounded-full"></div>
            <div class="flex-1">
              <div class="flex justify-between">
                <span class="text-purple-200 font-bold text-xs">D2: Phase Flip</span>
                <span class="text-[10px] text-slate-500 font-mono">dominant: Z</span>
              </div>
              <div class="text-[10px] text-slate-400 mt-1 font-mono">
                $\rho \approx 0.80|\Phi^+\rangle + 0.20|\Phi^-\rangle$
              </div>
            </div>
          </div>

          <!-- D3 -->
          <div class="p-2 rounded bg-white/5 border border-white/5 flex gap-3">
            <div class="w-1 bg-pink-500 rounded-full"></div>
            <div class="flex-1">
              <div class="flex justify-between">
                <span class="text-pink-200 font-bold text-xs">D3: Mixed (X-biased)</span>
                <span class="text-[10px] text-slate-500 font-mono">harder than D1</span>
              </div>
              <div class="text-[10px] text-slate-400 mt-1 font-mono">
                $\rho \approx 0.75|\Phi^+\rangle + 0.25|\Psi^+\rangle$
              </div>
            </div>
          </div>

          <!-- D4 -->
          <div class="p-2 rounded bg-white/5 border border-white/5 flex gap-3">
            <div class="w-1 bg-fuchsia-500 rounded-full"></div>
            <div class="flex-1">
              <div class="flex justify-between">
                <span class="text-fuchsia-200 font-bold text-xs">D4: Mixed (Z-biased)</span>
                <span class="text-[10px] text-slate-500 font-mono">harder than D2</span>
              </div>
              <div class="text-[10px] text-slate-400 mt-1 font-mono">
                $\rho \approx 0.72|\Phi^+\rangle + 0.28|\Phi^-\rangle$
              </div>
            </div>
          </div>

          <!-- D5 -->
          <div class="p-2 rounded bg-white/5 border border-white/5 flex gap-3">
            <div class="w-1 bg-red-500 rounded-full"></div>
            <div class="flex-1">
              <div class="flex justify-between">
                <span class="text-red-200 font-bold text-xs">D5: Depolarizing</span>
                <span class="text-[10px] text-slate-500 font-mono">X + Y + Z</span>
              </div>
              <div class="text-[10px] text-slate-400 mt-1 font-mono">
                $\rho \approx 0.7056|\Phi^+\rangle + 0.1344|\Phi^-\rangle + 0.1344|\Psi^+\rangle + 0.0256|\Psi^-\rangle$
              </div>
            </div>
          </div>
        </div>

        <!-- Unified Circuit Strategy -->
        <div class="bg-white/5 p-3 rounded border border-white/5 text-xs">
          <strong class="text-white block mb-1">Unified Circuit Strategy</strong>
          <p class="text-slate-400 leading-relaxed">
            A single optimized recurrence circuit handles all error types via basis rotation.
            For Z-dominant noise (D2/D4), we conjugate the protocol with Hadamards to convert phase flips into bit flips.
          </p>
        </div>

        <div class="bg-[#0b0f19] rounded p-3 border border-white/10 font-mono text-[10px]">
          <span class="text-slate-500"># Basis-Rotated Distillation</span><br>
          <span class="text-purple-400">if</span> noise == <span class="text-green-400">"PHASE_FLIP"</span>:<br>
          &nbsp;&nbsp;<span class="text-blue-400">H ∘ protocol ∘ H</span> <span class="text-slate-500"># Z → X</span>
        </div>

        <div class="bg-white/5 p-3 rounded border border-white/5 text-xs">
          <strong class="text-white">Validation:</strong> Predicted success probability and output fidelity matched game outputs across D1–D5,
          letting the bot treat distillation outcomes as reliable edge weights.
        </div>

      </div>
    </div>

    <!-- COLUMN 3: STRATEGY & RESULTS -->
    <div class="glass-panel scrollable-y">
      <h2 class="col-title">3. Strategy & Results</h2>

      <div class="space-y-4">

        <!-- Bot Metric -->
        <div class="text-sm">
          <strong class="text-white block mb-1">The "Auto Bot" Target Score</strong>
          <p class="text-xs text-slate-400 mb-2">
            Node selection balances short-term reward with long-term network leverage.
          </p>
          <div class="math-block !py-3 !my-0 !text-sm">
            $$ \text{Score} = \frac{\text{Pts}}{\text{Cost}+1} \times (1 + \text{Centrality}) $$
          </div>
        </div>

        <div class="bg-white/5 p-3 rounded border border-white/5 text-xs">
          <strong class="text-green-400">Hybrid Logic:</strong>
          Quantum physics determines edge cost (expected Bell pair consumption), while classical graph algorithms optimize global expansion.
        </div>

        <div class="bg-[#0b0f19] rounded p-3 border border-white/10 font-mono text-[10px] scrollable-y">
          <span class="text-slate-500"># Core loop (conceptual)</span><br>
          centrality = betweenness(G)<br>
          costs = dijkstra_costs(G, start, weight="difficulty")<br><br>
          score(node) = points(node)/(costs[node]+1) * (1 + centrality[node])<br>
          pick argmax score(node)
        </div>

        <!-- Visualization -->
        <div class="mt-2">
          <div class="relative w-full aspect-video rounded-lg overflow-hidden border border-white/10 group">
            <img src="strategic_neighborhood.png"
                 alt="Strategic Neighborhood Graph"
                 class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"
                 onerror="this.src='https://placehold.co/600x400/1e1e2e/FFF?text=Live+Topology+Map'">
            <div class="absolute bottom-0 left-0 right-0 bg-black/80 backdrop-blur p-2 border-t border-white/10">
              <div class="font-mono text-[10px] text-indigo-300 leading-tight">
                > PRIORITY: ROI × CENTRALITY<br>
                > AVOID: HIGH-COST D5 CUTS
              </div>
            </div>
          </div>
          <p class="text-[10px] text-slate-500 mt-1 italic text-center">
            Fig. 1 — Live strategic visualization. Node color encodes ROI × centrality, guiding automated expansion.
          </p>
        </div>

        <!-- Results Summary -->
        <div class="bg-indigo-900/10 border border-indigo-500/20 p-3 rounded text-xs leading-relaxed">
          <strong>Results so far:</strong> Integrating noise-adaptive circuits into the bot improved point acquisition and reduced wasted
          budget on poorly chosen paths. We also corrected a floating-point threshold edge case (e.g. 0.9 → 0.89999) using a small numerical epsilon.
          <ul class="list-disc list-inside mt-2 text-slate-400">
            <li>Targets high-density utility clusters (centrality)</li>
            <li>Navigates around “expensive” D5 edges</li>
            <li>Uses N=3 recurrence for reliable D3/D4 distillation</li>
          </ul>
        </div>

        <!-- Conclusion -->
        <div class="bg-white/5 p-3 rounded border border-white/5 text-xs">
          <strong class="text-white block mb-1">Conclusion</strong>
          Progress in the challenge comes from hybrid design: physics ensures link quality (fidelity), while graph theory ensures network efficiency (topology).
          Our agent makes near-deterministic decisions by treating distillation statistics as calibrated edge weights.
        </div>

        <!-- Footer/Links -->
        <div class="mt-auto pt-4 border-t border-white/10 flex flex-col sm:flex-row sm:justify-between gap-2 text-[10px] text-slate-500 font-mono">
          <span>MIT IQUHACK 2026 • TEAM Q-GAR</span>
          <div class="flex gap-3">
            <!-- Replace # with your real links -->
            <a href="#" class="hover:text-white">SOURCE</a>
            <a href="#" class="hover:text-white">FULL_PAPER</a>
          </div>
        </div>

      </div>
    </div>

  </main>
</div>

  <!-- Game tab (full-screen overlay) -->
  <div id="tabPanelGame" class="hidden fixed inset-0 z-40 p-3 md:p-4">
    <div class="w-full h-full rounded-2xl overflow-hidden border border-white/10 bg-black/30 backdrop-blur">
      <iframe
        id="gameFrame"
        title="Entanglement Distillation Game"
        src="about:blank"
        data-src="web_client.html"
        class="w-full h-full"
        style="border: 0"
      ></iframe>
    </div>
  </div>

  <script>
    const tabBtnSite = document.getElementById("tabBtnSite");
    const tabBtnGame = document.getElementById("tabBtnGame");
    const tabPanelSite = document.getElementById("tabPanelSite");
    const tabPanelGame = document.getElementById("tabPanelGame");
    const gameFrame = document.getElementById("gameFrame");

    function setActiveTab(tab) {
      const isGame = tab === "game";

      tabPanelSite.classList.toggle("hidden", isGame);
      tabPanelGame.classList.toggle("hidden", !isGame);

      // Lazy-load the game only when the tab is opened.
      // This avoids Cytoscape initializing with a 0px container on mobile.
      if (isGame && gameFrame) {
        const desired = gameFrame.getAttribute("data-src") || "web_client.html";
        const current = gameFrame.getAttribute("src") || "";
        if (!current || current === "about:blank") gameFrame.setAttribute("src", desired);
        // Once visible, ask the iframe to resize/fit the graph.
        setTimeout(() => {
          try {
            gameFrame.contentWindow?.postMessage({ type: "IONQ_PARENT_SHOWN" }, "*");
          } catch {}
        }, 120);
      }

      tabBtnSite.setAttribute("aria-pressed", String(!isGame));
      tabBtnGame.setAttribute("aria-pressed", String(isGame));

      tabBtnSite.className =
        "rounded-full px-3 py-1.5 text-xs font-mono font-bold tracking-wide border " +
        (!isGame
          ? "border-white/10 bg-white/10 text-white hover:bg-white/15"
          : "border-transparent text-slate-300 hover:bg-white/10 hover:text-white");

      tabBtnGame.className =
        "rounded-full px-3 py-1.5 text-xs font-mono font-bold tracking-wide border " +
        (isGame
          ? "border-white/10 bg-white/10 text-white hover:bg-white/15"
          : "border-transparent text-slate-300 hover:bg-white/10 hover:text-white");

      const nextHash = isGame ? "#game" : "#site";
      if (window.location.hash !== nextHash) window.location.hash = nextHash;
    }

    tabBtnSite.addEventListener("click", () => setActiveTab("site"));
    tabBtnGame.addEventListener("click", () => setActiveTab("game"));

    // Boot: honor the hash if present
    if (window.location.hash === "#game") setActiveTab("game");
    else setActiveTab("site");
  </script>
</body>
</html>
